# Summary: Task 2.2.3 Reasoning Display Format

## Overview

Created `JidoCode.Reasoning.Formatter` module that formats Chain-of-Thought reasoning steps for TUI presentation with status indicators, validation results, and collapsible summaries.

## Changes Made

### New Files

1. **`lib/jido_code/reasoning/formatter.ex`**
   - `Step` struct with number, description, outcome, status
   - `Step.from_map/1` - Creates Step from reasoning plan map
   - `format_plan/2` - Formats complete reasoning plan
   - `format_step/2` - Formats single step with status indicator
   - `format_validation/1` - Formats validation results with confidence %
   - `format_summary/2` - Creates collapsible/expandable summary
   - `status_indicator/1` - Returns indicator for status atom
   - `steps_from_maps/1` - Batch convert maps to Steps
   - `update_step_status/3` - Update step status in list
   - `step_status_counts/1` - Count steps by status

2. **`test/jido_code/reasoning/formatter_test.exs`**
   - 51 tests covering all functionality
   - Tests for Step struct creation
   - Tests for format_plan/2 with various inputs
   - Tests for format_step/2 with all statuses
   - Tests for format_validation/1
   - Tests for format_summary/2 collapsing
   - Tests for helper functions
   - Output readability tests

### Status Indicators

- `○` - Pending (not started)
- `◐` - In Progress (currently executing)
- `●` - Complete (finished successfully)
- `✗` - Failed (encountered error)

### Formatting Options

- `:show_outcomes` - Include expected outcomes (default: true)
- `:indent` - Number of spaces to indent (default: 0)
- `:max_description_length` - Truncate long descriptions (default: 80)
- `:expanded` - Show full plan vs collapsed (default: false)
- `:collapse_threshold` - Steps above which to collapse (default: 5)

## Test Results

```
254 tests, 0 failures, 1 skipped
```

51 new tests added for Formatter module.

## API Usage

```elixir
alias JidoCode.Reasoning.Formatter
alias JidoCode.Reasoning.Formatter.Step

# Format a complete reasoning plan
formatted = Formatter.format_plan(reasoning_plan)
IO.puts(formatted)

# Format a single step with status
step = %Step{number: 1, description: "Analyze", status: :complete, outcome: "Done"}
Formatter.format_step(step)
# => "● 1. Analyze (Done)"

# Format validation results
Formatter.format_validation(%{valid: true, confidence: 0.92, issues: []})
# => "✓ Validation passed (92% confidence)"

# Collapsible summary for long chains
Formatter.format_summary(long_plan, expanded: false)
# => "▶ Implement rate limiting (10 steps: 3/10 complete)"

# Update step status
steps = Formatter.steps_from_maps(plan.steps)
updated = Formatter.update_step_status(steps, 1, :complete)

# Get status counts
Formatter.step_status_counts(steps)
# => %{pending: 3, in_progress: 1, complete: 2, failed: 0}
```

## Integration with ChainOfThought

The Formatter can be used with ChainOfThought reasoning results:

```elixir
alias JidoCode.Reasoning.{ChainOfThought, Formatter}

{:ok, result} = ChainOfThought.run_with_reasoning(agent, query)

# Format the reasoning plan for display
if result.reasoning_plan do
  formatted = Formatter.format_plan(result.reasoning_plan)
  IO.puts(formatted)
end
```

## Phase Plan Updated

Task 2.2.3 marked complete in `notes/planning/proof-of-concept/phase-02.md`
